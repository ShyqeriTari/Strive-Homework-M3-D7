<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>M3-D7</title>
  </head>
  <body>
    <center><h1 style="color: darkcyan; margin-bottom: 30px;">M3-D7</h1></center>

<div class="d-flex mb-5">
    <div class="dropdown mx-3">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          Choose One
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <li><a class="dropdown-item" onclick="dropFilter(event)" href="#">Email</a></li>
          <li><a class="dropdown-item" onclick="dropFilter(event)" href="#">Username
          </a></li>
          <li><a class="dropdown-item"  onclick="dropFilter(event)" href="#">Name</a></li>
        </ul>
      </div>

      <input class=" mx-3" type="text" placeholder="Write something">

      <button onclick="displayOnlyNames(), displayAddress()" style="box-shadow: 5px 5px 5px 5px blue; color: white; background-color: coral; border: 1px solid black;">Display Names</button>
      <button onclick="sortNames()" type="button" class="btn btn-primary mx-5" data-bs-toggle="button" autocomplete="off" style="box-shadow: 5px 5px 5px 5px green; color: white; background-color: grey; border: 1px solid black;">Sort order</button>

   
    </div>  

    <table class="table mb-3">
        <thead>
          <tr>
            <th  scope="col">#</th>
            <th class =" titles" scope="col">Name</th>
            <th class =" titles" scope="col">Username</th>
            <th  class =" titles" scope="col">Email</th>
          </tr>
        </thead>
        <tbody class="table-body">
         
        </tbody>
      </table>

<div class="d-flex mx-5 mb-5">
      <table class="table2">
        <thead>
          <tr>
            <th  scope="col">#</th>
            <th class =" titles2" scope="col">Name</th>
          </tr>
        </thead>
        <tbody class="table-body2">
         
        </tbody>
      </table>

      <table class="table4 ms-5 mb-5">
        <thead>
          <tr>
            <th  scope="col">#</th>
            <th class =" titles4" scope="col">Adress</th>
          </tr>
        </thead>
        <tbody class="table-body4">


    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>

// search = (event) => {
    // const usersList = await fetch(`https://jsonplaceholder.typicode.com/users${event.target.value}`)
//         .then(response => response.json())
//         .then(data =>{
//             console.log(data.data[0])

//             let datas = data.data
//             let divs = document.getElementById("searchedEl")

//             divs.innerHTML = ""
//             datas.forEach(element => {
//                 divs.innerHTML += `<div class="d-flex" style="margin-bottom: 20px; align-items:center;" > <a href="./index-album.html?albumId=${element.album.id}" style="cursor:pointer; width 20%; margin-right: 20px;"><img src=${element.album.cover_medium} style="width:100%; height:200px; object-fit:cover;"></img></a>
//                     <div>
//                     <a href="./index-album.html?albumId=${element.album.id}" style="cursor:pointer; color:white;"><p class="mb-3"> ${element.album.title}</p></a>
//                     <a href="./artist.html?artistId=${element.artist.id}" style="cursor:pointer; color:white;"><p > ${element.artist.name}</p></a>
//                     </div> 
//                     </div> `
//             });
// }).catch (err = () =>{
//     alert("Refresh page")
// })
// }


displayUsers = async ()  => {
   try { const collectData = await fetch("https://jsonplaceholder.typicode.com/users")
    const dataResponse = await collectData.json()

    let table = document.querySelector(".table-body")

    dataResponse.forEach((user, idx) => {

        table.innerHTML += `<tr>
            <th scope="row">${idx + 1}</th>
           <a href="user.html?userId=${user.id}" <td>${user.name}</td></a>
            <td>${user.username}</td>
            <td>${user.email}</td>
          </tr>`
        })

    console.log(dataResponse)}
    catch(err) {
        console.log(err)
    }

}

// const dropFilter = async (event) => {

//     try { 
//         const collectData2 = await fetch("https://jsonplaceholder.typicode.com/users")
//     const dataResponse2 = await collectData2.json()

//     let dropDowns = document.querySelectorAll(".dropdown-item")
//     let table = document.querySelector(".table-body")
//     table.innerHTML =" "
//     let titles = document.querySelectorAll(".titles")
    
//     for (let i = 0; i < dropDowns.length; i++) {
//         titles[i].innerText = " "
//         titles[0].innerText = event.target.innerText
//     }

//     let target = event.target.innerText

//    dataResponse2.forEach((users, idx) =>{

//     table.innerHTML += `<tr>
//     <th scope="row">${idx + 1}</th>
//     <td>${users.name}</td>
//   </tr>`


//    } )


//     }catch(err) {
//         console.log(err)
//     }
        
// }

displayOnlyNames = async () => {

   try { const collectData3 = await fetch("https://jsonplaceholder.typicode.com/users")
    const dataResponse3 = await collectData3.json()

    let table2 = document.querySelector(".table-body2")
    table2.innerHTML = " "

    dataResponse3.forEach((userse, idx) => {

        table2.innerHTML += `<tr>
            <th scope="row">${idx + 1}</th>
            <a href="user.html?userId=${userse.id}" <td>${userse.name}</td></a>
            
          </tr>`
        })
}
    catch(err) {
        console.log(err)
    }

}

displayAddress = async () => {

try { const collectData4 = await fetch("https://jsonplaceholder.typicode.com/users")
 const dataResponse4 = await collectData4.json()

 let table4 = document.querySelector(".table-body4")
 table4.innerHTML = " "

 console.log(dataResponse4)
 dataResponse4.forEach((use, idx) => {

     table4.innerHTML += `<tr>
         <th scope="row">${idx + 1}</th>
         <td>${use.address.street}, ${use.address.suite}, ${use.address.city}, (${use.address.zipcode})</td>
         
       </tr>`
     })
}
 catch(err) {
     console.log(err)
 }

}

let arr1 = []
sortNames = async () => {

try { const collectData5 = await fetch("https://jsonplaceholder.typicode.com/users")
 const dataResponse5 = await collectData5.json()

 let table = document.querySelector(".table-body")
 table.innerHTML = " "

 for(let i = 0; i < dataResponse5.length; i++) {
   arr1.push( dataResponse5[i].name.split(" ")[0])
   
 }
 console.log(arr1.sort())

 let namesSort = arr1.sort()

 for(let j = 0; j < namesSort.length; j++) {
     table.innerHTML += `  

<div class="d-block mb-3">  ${namesSort[j]}</div>

`
 }
}
 catch(err) {
     console.log(err)
 }

}





window.onload = () => {
    displayUsers()
}

    </script>

  </body>
</html>